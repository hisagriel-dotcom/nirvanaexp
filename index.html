<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title> </title>
    <style>
        body, html { 
            margin: 0; padding: 0; width: 100%; height: 100%; 
            background-color: #ffffff; overflow: hidden;
            display: flex; align-items: center; justify-content: center;
            font-family: -apple-system, sans-serif; cursor: pointer;
            -webkit-tap-highlight-color: transparent;
        }
        .ui { text-align: center; }
        .icon { font-size: 80px; margin-bottom: 10px; }
        h1 { font-size: 18px; color: #333; text-transform: uppercase; letter-spacing: 2px; }
        video { display: none; width: 100%; height: 100%; object-fit: cover; }
    </style>
</head>
<body onclick="playVideo()">

    <div class="ui" id="ui">
        <div class="icon">✨</div>
        <h1>Активировать</h1>
    </div>

    <video id="v" playsinline loop title="Sunset">
        <source src="sunset.mp4" type="video/mp4">
    </video>

    <script>
        function playVideo() {
            const v = document.getElementById('v');
            const ui = document.getElementById('ui');

            // 1. Магический звук
            const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.frequency.setValueAtTime(2200, audioCtx.currentTime);
            osc.frequency.exponentialRampToValueAtTime(400, audioCtx.currentTime + 0.6);
            gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.6);
            osc.connect(gain); gain.connect(audioCtx.destination);
            osc.start(); osc.stop(audioCtx.currentTime + 0.6);

            // 2. Запуск видео
            ui.style.display = 'none';
            v.style.display = 'block';
            v.play();

            // 3. Хак для раскрытия на весь экран в iOS
            if (v.webkitEnterFullscreen) {
                v.webkitEnterFullscreen();
            } else if (v.requestFullscreen) {
                v.requestFullscreen();
            }
        }
    </script>
</body>
</html>
